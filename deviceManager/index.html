<!DOCTYPE html>
<html ng-app="deviceManager">

  <head>
    <meta charset="utf-8">
    <title>OCF Virtual Device Manager</title>
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/angular-bootstrap-colorpicker/3.0.25/css/colorpicker.css">
    <link rel="stylesheet" href="/manager.css"/>
  </head>

  <body>
    <div class="container" ng-controller="MainController as ctrl">
      <div>
        <p>
          <a href="/light" target="_blank"
            type="button"
            class="btn btn-primary btn-lg"
            >Create Light</a>

          <a href="/switch" target="_blank"
            type="button"
            class="btn btn-default btn-lg"
            >Create Switch</a>
        </p>
      </div>
      <table class="table">
        <thead>
          <tr>
            <th>Script</th>
            <th>Name</th>
            <th>Created At</th>
            <th>
            </th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="process in processes">
            <td>{{ process.pm2_env.pm_exec_path }}</td>
            <td>{{ process.name }}</td>
            <td> {{ process.pm2_env.created_at }}</td>
            <td>
              <a  href="/#"
                  tooltip-placement="right"
                  uib-tooltip="Open process UI in browser"
                  ng-click="openBrowserWindow(process)"
                  >
                  <i class="fa fa-external-link-square" aria-hidden="true"></i>
              </a>

              <a  href="{{'/logs/'+process.pm_id}}"
                  target="_blank"
                  tooltip-placement="right"
                  uib-tooltip='Get Logs'
                >
                <i class="fa fa-file-text-o" aria-hidden="true"></i>
              </a>
              <a    class="btn btn-link"
                    uib-tooltip='Reload Process'
                    tooltip-placement="right"
                    href="/#"
                    ng-click="actions.restartProcess(process)"
                    >
                <i class="fa fa-refresh" aria-hidden="true"></i>
              </a>
              <a    class="btn btn-link"
                    uib-tooltip='Kill Process'
                    tooltip-placement="right"
                    href="/#"
                    ng-click="actions.killProcess(process)"
                    >
                <i class="fa fa-ban" aria-hidden="true"></i>
              </a>
            </td>
          </tr>
        </tbody>
      </table>

    </div>
      <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/2.0.1/ui-bootstrap.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/2.0.1/ui-bootstrap-tpls.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-bootstrap-colorpicker/3.0.25/js/bootstrap-colorpicker-module.min.js"></script>
      <script src="/manager.js"></script>
  </body>
</html>
